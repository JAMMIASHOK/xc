%File: ~/OOP/convergenceTest/CTestEnergyIncr.tex
%What: "@(#) CTestEnergyIncr.tex, revA"

\noindent {\bf Files}
\indent \#include \f$<\tilde{}\f$/convergenceTest/CTestEnergyIncr.h\f$>\f$

\noindent {\bf Class Declaration}
\indent class CTestEnergyIncr: public ConvergenceTest

\noindent {\bf Class Hierarchy}
\indent MovableObject
\indent\indent ConvergenceTest
\indent\indent\indent {\bf CTestEnergyIncr}

\noindent {\bf Description}
\indent A CTestEnergyIncr object is an object which can be used in an
//! algorithmic class to test if convergence has been achieved. The
//! CTestEnergyIncr class tests using the energy increment, 0.5 times the
//! absolute value of the dot product of the LinearSOE objects solution
//! and rhs Vectors, and a user specified tolerance value.


\noindent {\bf Class Interface}
\indent\indent {// Constructors} 
\indent\indent {\em CTestEnergyIncr(double tol, int maxNumIter, double
//! printFlag);}  
\indent\indent {\em CTestEnergyIncr();}
\indent\indent {// Destructor} 
\indent\indent {\em \f$\tilde{}\f$CTestEnergyIncr();}
\indent\indent {// Public Methods} 
\indent\indent {\em int setTolerance(double newTol);}
\indent\indent {\em int setEquiSolnAlgo(EquiSolnAlgo \&theAlgo);}
\indent\indent {\em int start(void);}
\indent\indent {\em int test(void);}
\indent\indent {\em int sendSelf(int commitTag, Channel \&theChannel);} 
\indent\indent {\em int recvSelf(int commitTag, Channel \&theChannel,
//! FEM\_ObjectBroker \&theBroker);} 

\noindent {\bf Constructors}
\indent {\em CTestEnergyIncr(double tol, int maxNumIncr = 10);}
//! The integer {\em CLASS\_TAGS\_CTestEnergyIncr}, defined in
\f$<\f$classTags.h\f$>\f$, is passed to the ConvergenceTest constructor. Sets
//! the tolerance used in test() to be \p tol and the max number
//! of iterations to be performed to \p maxNumIter.

\indent {\em CTestEnergyIncr();}
//! To be used by the FEM\_ObjectBroker object in parallel programs. The
//! integer {\em CLASS\_TAGS\_CTestEnergyIncr}, defined in
\f$<\f$classTags.h\f$>\f$, is passed to the ConvergenceTest constructor. Sets
//! the tolerance used in test() to be {\em 0.0} and \p maxNumIter 
//! to be \f$0\f$. These will be set when recvSelf() is invoked on the object.


\noindent {\bf Destructor}
\indent {\em \f$\tilde{ }\f$CTestEnergyIncry();} 
//! Does nothing.

\noindent {\bf Public Methods }
\indent {\em int setTolerance(double newTol);}
//! Sets the tolerance used in test() to be \p newTol.

\indent {\em int setEquiSolnAlgo(EquiSolnAlgo \&theAlgo);}
//! It sets a pointer to \p theAlgo's LinearSOE object. Returns \f$0\f$ if
//! successful, a \f$-1\f$ is returned and an error message printed if no
//! LinearSOE object has been set in \p theAlgo.


\indent {\em int start(void);}
//! Sets an integer indicating the current number of iterations, {\em
//! currentNumIter} to \f$1\f$. returns \f$0\f$ if successfull, an error message
//! and \f$-1\f$ are returned if no LinearSOE object has been set.

\indent {\em int test(void);}
//! Returns {currentNumIter} if 0.5 times the absolute value of the dot product of
//! the LinearSOE objects X and B Vectors is less than the tolerance {\em
//! tol}. If no LinearSOE has been set \f$-2\f$ is returned. If the {\em
//! currentNumIter} \f$>=\f$ \p maxNumIter an error message is printed and
\f$-2\f$ is returned. If none of these conditions is met, the {\em
//! currentnumIter} is incremented and \f$-1\f$ is returned. If the print flag
//! is \f$0\f$ nothing is printed to 
//! opserr during the method, if \f$1\f$ the current iteration and norm are
//! printed to opserr, and if \f$2\f$ the norm and number of iterations to convergence
//! are printed to opserr. 


\indent {\em int sendSelf(int commitTag, Channel \&theChannel);} 
//! Creates a Vector of size 3, puts the tolerance value \p tol, {\em
//! numIncr} and \p printFlag
//! in this, and then invokes sendVector() on {\em
//! theChannel}. Returns \f$0\f$ if successful. A warning message is printed
//! and a negative number if the Channel object fails to send the Vector. 

\indent {\em int recvSelf(int commitTag, Channel \&theChannel,
//! FEM\_ObjectBroker \&theBroker);} 
//! Creates a Vector of size 3, invokes recvVector() on {\em
//! theChannel}, and sets the values of \p tol, \p numIncr and \p printFlag.
//! Returns \f$0\f$ if successful. If the Channel object fails to receive the
//! Vector, \p tol is set to \f$1.0e-8\f$, \p numIter to \f$25\f$, a warning
//! message is printed, and a negative number returned.y




